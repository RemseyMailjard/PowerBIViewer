<Window x:Class="PowerBIViewer.App.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        Title="Power BI Viewer - Remsey Mailjard"
        Icon="/Assets/app_icon.ico"
        Height="700"
        Width="1100"
        Background="{DynamicResource AppBackgroundBrush}"
        Foreground="{DynamicResource AppForegroundBrush}">

    <!-- In MainWindow.xaml -->
    <DockPanel>

        
        <!-- ░░ Bovenbalk: Dashboardselectie (blijft hetzelfde) ░░ -->
        <StackPanel x:Name="DashboardButtonPanel"
                DockPanel.Dock="Top"
                Orientation="Horizontal"
                HorizontalAlignment="Left"
                Margin="5">

            <!-- ✨ NIEUW: Vaste knoppen die altijd zichtbaar zijn ✨ -->
            <Button Style="{DynamicResource SecondaryButton}"
                Content="🏆 Power BI Community"
                ToolTip="Bekijk dashboards uit de Power BI Data Stories Gallery"
                Click="CommunityButton_Click"/>

            <Button Style="{DynamicResource SecondaryButton}"
                Content="💡 NovyPro"
                ToolTip="Verken portfolio's en dashboards op NovyPro"
                Click="NovyProButton_Click"/>

        </StackPanel>

        <!-- ❗ GEWIJZIGD: De StatusBar is nu het onderste element in de DockPanel -->
        <!-- We geven het StatusBarItem een naam zodat we het vanuit C# kunnen aanpassen. -->
        <StatusBar DockPanel.Dock="Bottom">
            <StatusBarItem>
                <TextBlock x:Name="StatusTextBlock" Text="Klaar" Margin="4,0,0,0"/>
            </StatusBarItem>
        </StatusBar>

        <!-- ❗ GEWIJZIGD: De Border met de knoppen komt nu BOVEN de StatusBar. -->
        <!-- De volgorde in XAML voor DockPanel.Bottom is belangrijk (van buiten naar binnen). -->
        <Border DockPanel.Dock="Bottom" 
            BorderBrush="{DynamicResource BorderBrush}" 
            BorderThickness="0,1,0,0">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="5">
                <!-- Je knoppen blijven hier ongewijzigd -->
                <Button x:Name="ThemeToggleButton" Style="{DynamicResource SecondaryButton}" Content="🌓" ToolTip="Wissel tussen Licht en Donker thema" Click="ToggleTheme_Click"/>
                <Button Style="{DynamicResource SecondaryButton}" Content="🔄 Refresh" Click="Refresh_Click"/>
                <!-- VOEG DEZE KNOP TOE -->
                <Button x:Name="FullScreenButton"
                Style="{DynamicResource SecondaryButton}"
                Content="⛶" 
                        ToolTip="Volledig scherm (F11)"
                Click="ToggleFullScreen_Click"/>    
                <Button Style="{DynamicResource SecondaryButton}" Content="📸 Screenshot" Click="Screenshot_Click"/>
                <Button Style="{DynamicResource SecondaryButton}" Content="⚙️ Instellingen" Click="OpenSettings_Click"/>
                <Button Style="{DynamicResource SecondaryButton}" Content="ℹ️ Over" Click="About_Click"/>
                <Button Style="{DynamicResource PrimaryButton}" Content="🧩 Widget Launcher" Click="OpenWidgetLauncher_Click"/>
            </StackPanel>
        </Border>

        <!-- ░░ Midden: Laad-indicator en WebView (blijft hetzelfde) ░░ -->
        <Grid>
            <wv2:WebView2 x:Name="PowerBIWebView"/>
            <Border x:Name="LoadingIndicator" Background="#80000000" Visibility="Collapsed">
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <ProgressBar IsIndeterminate="True" Width="150" Height="20"/>
                    <TextBlock Text="Rapport wordt geladen..." Style="{DynamicResource SubtleText}" Foreground="White" FontSize="14" Margin="0,10,0,0"/>
                </StackPanel>
            </Border>
        </Grid>

    </DockPanel>
</Window>